//###############################################################################
//# WbXbc - Manual - Error Generator                                            #
//###############################################################################
//#    Copyright 2018 Dirk Heisswolf                                            #
//#    This file is part of the WbXbc project.                                  #
//#                                                                             #
//#    WbXbc is free software: you can redistribute it and/or modify            #
//#    it under the terms of the GNU General Public License as published by     #
//#    the Free Software Foundation, either version 3 of the License, or        #
//#    (at your option) any later version.                                      #
//#                                                                             #
//#    WbXbc is distributed in the hope that it will be useful,                 #
//#    but WITHOUT ANY WARRANTY; without even the implied warranty of           #
//#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the            #
//#    GNU General Public License for more details.                             #
//#                                                                             #
//#    You should have received a copy of the GNU General Public License        #
//#    along with WbXbc.  If not, see <http://www.gnu.org/licenses/>.           #
//###############################################################################
//# Version History:                                                            #
//#   August 10, 2018                                                           #
//#      - Initial release                                                      #
//###############################################################################

== WbXbc Error Generator

[ditaa, WbXbc_error_generator, svg]
....
               +-------------------+            
               |                   |            
               |                   |            
   Initiator   |       WbXbc       |    Target  
      Bus  --->|       Error       |---> Bus    
     with      |     Generator     |     with   
    Selects    |                   |    Selects 
               |                   |            
               +-------------------+            
....

This module implements an error generator or dummy target for the      
pipelined Wishbone protocol. It propagates accesses from the initiator 
to the target bus, but intercepts accesses without a target, signaling 
an error condition to the initiator. The target association is         
determined by a set of address tags, generated by the address decoder. 

=== Integration Parameters
[cols="4,2,8",options="header"]
|=====================================================
|Parameter   |Default Value |Description
|TGT_CNT    >|4             |number of target busses
|ADDR_WIDTH >|16            |width of the address bus
|DATA_WIDTH >|16            |width of each data bus
|SEL_WIDTH  >|2             |number of data select lines
|TGA_WIDTH  >|1             |number of address tags
|TGC_WIDTH  >|1             |number of cycle tags
|TGRD_WIDTH >|1             |number of read data tags
|TGWD_WIDTH >|1             |number of write data tags
|=====================================================

Section <<parameters>> gives a detailed description of each parameter listed above.

=== Interface Signals
[cols="6,2,2,10v",options="header"]
|=====================================================
|Signal   |Range |Direction |Description
4+h|Clock and Reset
|clk_i             >|                         |input  |module clock	
|async_rst_i       >|                         |input  |asynchronous reset	
|sync_rst_i        >|                         |input  |synchronous reset  
4+h|Initiator Interface
|itr_cyc_i         >|                         |input  |bus cycle indicator
|itr_stb_i         >|                         |input  |access request
|itr_we_i          >|                         |input  |write enable
|itr_lock_i        >|                         |input  |uninterruptable bus cycle
|itr_sel_i         >|SEL_WIDTH-1:0            |input  |write data selects
|itr_adr_i         >|ADDR_WIDTH-1:0           |input  |address bus
|itr_dat_i         >|DATA_WIDTH-1:0           |input  |write data bus
|itr_tga_i         >|TGA_WIDTH-1:0            |input  |address tags
|itr_tga_tgtsel_i  >|TGT_CNT-1:0              |input  |target select tags
|itr_tgc_i         >|TGC_WIDTH-1:0            |input  |bus cycle tags
|itr_tgd_i         >|TGWD_WIDTH-1:0           |input  |write data tags
|itr_ack_o         >|                         |output |bus cycle acknowledge
|itr_err_o         >|                         |output |error indicator
|itr_rty_o         >|                         |output |retry request
|itr_stall_o       >|                         |output |access delay
|itr_dat_o         >|DATA_WIDTH-1:0           |output |read data bus
|itr_tgd_o         >|TGRD_WIDTH-1:0           |output |read data tags
4+h|Target Interface
|tgt_cyc_o         >|                         |output |bus cycle indicator
|tgt_stb_o         >|                         |output |access request
|tgt_we_o          >|                         |output |write enable
|tgt_lock_o        >|                         |output |uninterruptable bus cycle
|tgt_sel_o         >|SEL_WIDTH-1:0            |output |write data selects
|tgt_adr_o         >|ADDR_WIDTH-1:0           |output |write data selects
|tgt_dat_o         >|DATA_WIDTH-1:0           |output |write data bus
|tgt_tga_o         >|TGA_WIDTH-1:0            |output |address tags
|itr_tga_tgtsel_o  >|TGT_CNT-1:0              |output |target select tags
|tgt_tgc_o         >|TGC_WIDTH-1:0            |output |bus cycle tags
|tgt_tgd_o         >|TGWD_WIDTH-1:0           |output |write data tags
|tgt_ack_i         >|                         |input  |bus cycle acknowledge
|tgt_err_i         >|                         |input  |error indicator
|tgt_rty_i         >|                         |input  |retry request
|tgt_stall_i       >|                         |input  |access delay
|tgt_dat_i         >|DATA_WIDTH-1:0           |input  |read data bus
|tgt_tgd_i         >|TGRD_WIDTH-1:0           |input  |read data tags
|=====================================================

Section <<signals>> gives a detailed description of each slignal listed above.

=== Verification Status
[cols="2v,>1,4*3v",options="header"]
|=====================================================
2+<|Configuration <|Linting <|Simulation <|Formal <|FPGA
//Default configuration
6+h|Default Configuration
|TGT_CNT    >|4
//Liniting
.8+^.^| iVerilog,
Yosys
//Simulation
.8+^.^|
//Formal
.8+^.^|
//FPGA
.8+^.^|         
|ADDR_WIDTH >|16            
|DATA_WIDTH >|16             
|SEL_WIDTH  >|2             
|TGA_WIDTH  >|1             
|TGC_WIDTH  >|1             
|TGRD_WIDTH >|1             
|TGWD_WIDTH >|1             
|=====================================================

All lint checks have been done with the Icarus Verilog simulator cite:[IVerilog]
and the Yosys synthesis tool cite:[Yosys].

